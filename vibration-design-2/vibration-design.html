<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Vibration Designer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body onload="initializeOnLoad();">
    <div class="container text-left" style="margin-top: 3em;">

      <div class="row" style="margin-bottom: 2em;">
	<div class="col">
	  <h1>Vibration Designer</h1>
	</div>
      </div>
      <div class="row">
	<div class="col-3">
	  <div class="input-group">
	    <div class="input-group-prepend" style="width: 80%;">
	      <label class="input-group-text" for="touch-threshold">
		Number of Points:
	      </label>
	    </div>
	    <input type="text" class="form-control" id="number-of-sliders"
		   value="10" onChange="changeNumberOfSliders();">
	  </div>
	</div>
	<div class="col-3">
	  <div class="input-group">
	    <div class="input-group-prepend" style="width: 80%;">
	      <label class="input-group-text" for="sound-length">
		Length (sec):
	      </label>
	    </div>
	    <input type="text" class="form-control" id="sound-length" value="1.5"
		   onChange="validateSoundLength()">
	  </div>
	</div>
	<div class="col-4">
	  <div class="input-group">
	    <div class="input-group-prepend" style="width: 80%;">
	      <label class="input-group-text" for="vibration-frequency" id="vibration-frequency-label">
		Frequency: xx
	      </label>
	    </div>
	    <input type="range" style="width:90%" value="150" step="1" min="40" max="250" id="vibration-frequency" oninput="updateVibrationFrequency()">
	  </div>
	</div>
      <div class="row d-flex" id="sliders-container" style="padding-top: 1em;">
	xx
      </div>
      <div class="row" style="padding-top: 1em;">
	<div class="col-3">
	  <button onClick="simulate();" type="button" class="btn btn-primary">Play Vibration</button>
	</div>
	<div class="col-2">
	  <button onClick="writeSoundFile();" type="button" class="btn btn-primary">Create Vibration File</button>
	</div>
	<div class="col-2">
	  <button onClick="readSoundFile();" type="button" class="btn btn-primary">Read Vibration File</button>
	</div>
      </div>

      <div class="row">
	<div class="col-6 d-flex align-items-center" style="padding-top:1em">
	  <div class="container">
	    <div class="row" style="height: 20em;">
	      <textarea id="vibration-file" class="text-area"
			autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"
			style="margin-top: 1em; width:60; height:30;
			       font-family: Courier; font-size: 0.8em;">
Click "Create sound file" when your vibration profile is ready
	      </textarea>
	    </div>
	  </div>
	</div>

	<div class="col-6 border-end" style="padding-top:1em; font-size: 0.8em;">
	  <h4>Instructions</h4>
	  To save a file:
	  <ul>
	    <li>Click "Create Vibration File" above.</li>
	    <li>In the text box, click anywhere, then type Command-A (Mac) or Cntl-A (Windows) to select all text.</li>
	    <li>Type Command-C (Mac) or Cntl-C (Windows) to copy the text.
	    <li>Macintosh:
	      <ul>
		<li>Open the "TextEdit" app and click "File >> New".</li>
		<li>Select "Format >> Make Plain Text"</li>
		<li>Type Command-V to paste the data into the document</li>
		<li>Click "File >> Save" to save your vibration file</li>
	      </ul>
	    </li>
	    <li>Windows:
	      <ul>
		<li>coming soon...</li>
	      </ul>
	    </li>
	  </ul>
	  To read a file:
	  <ul>
	    <li>Open a file that you created (see above).</li>
	    <li>Copy the text from the file and paste it into the text area.</li>
	    <li>Click "Read Vibration File"</li>
	  </ul>
	</div>
      </div>

      <div class="row" style="padding-top: 1em;">
	<style>
	  .notice {font-size: 0.7em; font-color: #999999; font-style: italic; margin-bottom: 0.5em; padding-left:3em; padding-right: 3em;}
	</style>
	<p class="notice">Copyright &copy;2025, Craig James</p>
	<p class="notice">This file is part of of the "Tactile" library.
	  Tactile is free software: you can redistribute it and/or modify it under
	the terms of the GNU Lesser General Public License (LGPL) as published by
	the Free Software Foundation, either version 3 of the License, or (at
	your option) any later version.
	Tactile is distributed in the hope that it will be useful, but WITHOUT
	ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
	FITNESS FOR A PARTICULAR PURPOSE. See the LGPL for more details.
	You should have received a copy of the LGPL along with Tactile. If not,
	see <a href="https://www.gnu.org/licenses/" target="lic">https://www.gnu.org/licenses/</a>.</p>
	
      </div>		      



    </div>
	
  </body>
</html>

<style>
  .range {width: 15px;}
  .td-range {width: 15px;}
</style>
<script src="./vibration-design.js"></script>
